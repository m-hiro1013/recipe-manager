# =====================================
# ğŸ’¾ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»é€²æ—ç®¡ç†
# =====================================
# WORKFLOW.yaml
# ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ã€‘
# - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ãƒ»æ±ºå®šäº‹é …ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã‚’ç®¡ç†
# - ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã™ã“ã¨ã§ã€å‰å›ã®ç¶šãã‹ã‚‰å†é–‹å¯èƒ½
# - âš ï¸ ã“ã“ã«æ›¸ã‹ã‚Œã¦ã„ãªã„ã“ã¨ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰æ¶ˆãˆã‚‹
#
# =====================================

workflow:
  version: "1.0"
  last_updated: "2025-01-23"
  last_session_summary: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã€ä»•å…¥ã‚Œå•†å“ä¸€è¦§ç”»é¢ã€ä½¿ç”¨å•†å“ãƒ•ãƒ©ã‚°æ©Ÿèƒ½ã€æ¥­è€…ä¸€æ‹¬ON/OFFã€æ¥­è€…éè¡¨ç¤ºæ©Ÿèƒ½ã‚’å®Ÿè£…å®Œäº†ã€‚SYSTEM_PROMPT.yamlã¨WORKFLOW.yamlã¸ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåˆ†é›¢ã‚’å®Ÿæ–½ã€‚"


# =====================================
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬æƒ…å ±
# =====================================
project:
  name: "ãƒ¬ã‚·ãƒ”ç®¡ç†ãƒ»åŸä¾¡è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ "
  description: "é£²é£Ÿåº—ã®ãƒ¬ã‚·ãƒ”ç®¡ç†ã¨åŸä¾¡è¨ˆç®—ã‚’åŠ¹ç‡åŒ–ã™ã‚‹Webã‚¢ãƒ—ãƒª"
  repository_url: "https://github.com/m-hiro1013/recipe-manager.git"
  production_url: "https://recipe-manager-blue-one.vercel.app/"
  created_at: "2025-01-20"
  
  user:
    name: "ã²ã‚ããã‚“"
  
  tech_stack:
    backend: "Supabase"
    frontend: "HTML / CSS / JavaScript"
    css_framework: "TailwindCSS"
    build_tool: "Vite"
    deploy: "Vercel"
    other: []


# =====================================
# 2. è¦ä»¶å®šç¾©ï¼ˆå…¨ä½“åƒï¼‰
# =====================================
requirements:
  
  goal:
    primary: "é£²é£Ÿåº—ã®ãƒ¬ã‚·ãƒ”ç®¡ç†ã¨åŸä¾¡è¨ˆç®—ã‚’åŠ¹ç‡åŒ–"
    target_user: "é£²é£Ÿåº—ã®ç®¡ç†è€…ãƒ»ã‚·ã‚§ãƒ•ãƒ»ã‚¹ã‚¿ãƒƒãƒ•"
    success_criteria:
      - "ä»•å…¥ã‚Œå•†å“ã‚’CSVã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹"
      - "ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆéƒ¨å“åŒ–ã—ãŸå•†å“ï¼‰ã‚’ç™»éŒ²ã§ãã‚‹"
      - "ä»•è¾¼ã¿å“ã‚’ç™»éŒ²ã§ãã‚‹"
      - "å•†å“ï¼ˆæœ€çµ‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ã‚’ç™»éŒ²ã§ãã‚‹"
      - "åŸä¾¡ãŒè‡ªå‹•è¨ˆç®—ã•ã‚Œã‚‹"
  
  features:
    - id: "F001"
      name: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½"
      description: "ã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ¼ãƒˆã‹ã‚‰ã®CSVå–ã‚Šè¾¼ã¿"
      priority: "must"
      status: "done"
      completed_at: "2025-01-23"
      notes: "Shift-JISå¯¾å¿œã€é‡è¤‡ã¯æ›´æ–°æ—¥ã§æ–°ã—ã„æ–¹ã‚’æ¡ç”¨"
    
    - id: "F002"
      name: "ä»•å…¥ã‚Œå•†å“ä¸€è¦§ç”»é¢"
      description: "å–å¼•å…ˆã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–è¡¨ç¤º"
      priority: "must"
      status: "done"
      completed_at: "2025-01-23"
      notes: "äº”åéŸ³é †ã€æ¤œç´¢æ©Ÿèƒ½ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³"
    
    - id: "F003"
      name: "ä½¿ç”¨å•†å“ãƒ•ãƒ©ã‚°æ©Ÿèƒ½"
      description: "ä»•å…¥ã‚Œå•†å“ã‹ã‚‰ä½¿ã†ã‚‚ã®ã«ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã‚‹"
      priority: "must"
      status: "done"
      completed_at: "2025-01-23"
      notes: "è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆï¼ˆOFFã ã‘/ONã ã‘/å…¨éƒ¨ï¼‰ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯OFFã ã‘"
    
    - id: "F004"
      name: "æ¥­è€…å˜ä½ã®ä¸€æ‹¬ON/OFF"
      description: "æ¥­è€…ã®å…¨å•†å“ã‚’ä¸€æ‹¬ã§ä½¿ç”¨ON/OFFã§ãã‚‹"
      priority: "should"
      status: "done"
      completed_at: "2025-01-23"
      notes: ""
    
    - id: "F005"
      name: "æ¥­è€…ã®éè¡¨ç¤ºæ©Ÿèƒ½"
      description: "ä½¿ã‚ãªã„æ¥­è€…ã‚’éè¡¨ç¤ºã«ã§ãã‚‹"
      priority: "should"
      status: "done"
      completed_at: "2025-01-23"
      notes: "éè¡¨ç¤ºãƒªã‚¹ãƒˆãƒ¢ãƒ¼ãƒ€ãƒ«ã§ç¢ºèªãƒ»å¾©æ´»å¯èƒ½ã€å•†å“0ä»¶ã®æ¥­è€…ã‚‚è¡¨ç¤º"
    
    - id: "F006"
      name: "ã‚¢ã‚¤ãƒ†ãƒ ç™»éŒ²æ©Ÿèƒ½"
      description: "ä½¿ç”¨ãƒ•ãƒ©ã‚°ONã®ä»•å…¥ã‚Œå•†å“ã‚’éƒ¨å“åŒ–"
      priority: "must"
      status: "planned"
      completed_at: ""
      notes: "ã‚¢ã‚¤ãƒ†ãƒ åã€ä½¿ç”¨å˜ä½ã€å–ã‚Œã‚‹æ•°ã€å˜ä½åŸä¾¡ã®è‡ªå‹•è¨ˆç®—"
    
    - id: "F007"
      name: "ä»•è¾¼ã¿å“ç™»éŒ²æ©Ÿèƒ½"
      description: "ã‚¢ã‚¤ãƒ†ãƒ ã‚„ä»–ã®ä»•è¾¼ã¿å“ã‚’çµ„ã¿åˆã‚ã›ã¦ç™»éŒ²"
      priority: "must"
      status: "planned"
      completed_at: ""
      notes: ""
    
    - id: "F008"
      name: "å•†å“ç™»éŒ²æ©Ÿèƒ½"
      description: "æœ€çµ‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ç™»éŒ²ï¼ˆä»•ä¸ŠãŒã‚Šå¸¸ã«1å˜ä½ï¼‰"
      priority: "must"
      status: "planned"
      completed_at: ""
      notes: ""
    
    - id: "F009"
      name: "åŸä¾¡è‡ªå‹•è¨ˆç®—"
      description: "ææ–™ã®åŸä¾¡ã‚’è‡ªå‹•è¨ˆç®—"
      priority: "must"
      status: "planned"
      completed_at: ""
      notes: ""
  
  screens:
    - id: "S001"
      name: "ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆä»•å…¥ã‚Œå•†å“ä¸€è¦§ï¼‰"
      path: "/"
      features: ["F001", "F002", "F003", "F004", "F005"]
      status: "done"


# =====================================
# 3. ã‚¢ã‚¤ãƒ‡ã‚¢ãƒ»æ±ºå®šäº‹é …ã®è¨˜éŒ²
# =====================================
decisions:
  
  adopted:
    - id: "D001"
      category: "ãƒ‡ãƒ¼ã‚¿ä¿å­˜"
      idea: "localStorageã¯ä½¿ã‚ãªã„ã€å…¨ã¦Supabaseã«ä¿å­˜"
      reason: "ãƒ•ã‚§ãƒ¼ã‚º2ã§è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œã™ã‚‹ãŸã‚"
      decided_at: "2025-01-23"
      related_feature: ""
    
    - id: "D002"
      category: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ"
      idea: "æ›´æ–°æ—¥ãŒæ–°ã—ã„æ–¹ã‚’æ¡ç”¨ã™ã‚‹ï¼ˆé‡è¤‡å¯¾ç­–ï¼‰"
      reason: "CSVã«åŒã˜å•†å“ã‚³ãƒ¼ãƒ‰ãŒè¤‡æ•°å­˜åœ¨ã™ã‚‹ãŸã‚"
      decided_at: "2025-01-23"
      related_feature: "F001"
    
    - id: "D003"
      category: "UI"
      idea: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€ŒOFFã ã‘ã€è¡¨ç¤º"
      reason: "è¿½åŠ ã—ãŸã„ã‚‚ã®ã ã‘å…¥ã‚Œã‚‹ã®ãŒã‚¹ãƒãƒ¼ãƒˆã ã‹ã‚‰"
      decided_at: "2025-01-23"
      related_feature: "F003"
    
    - id: "D004"
      category: "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹"
      idea: "å–å¼•å…ˆã‚’suppliersãƒ†ãƒ¼ãƒ–ãƒ«ã§ç®¡ç†"
      reason: "æ¥­è€…ã®éè¡¨ç¤ºæ©Ÿèƒ½ã‚’DBä¿å­˜ã™ã‚‹ãŸã‚"
      decided_at: "2025-01-23"
      related_feature: "F005"
  
  rejected: []
  
  postponed:
    - id: "P001"
      category: "åŸä¾¡è¨ˆç®—"
      idea: "æ­©ç•™ç‡ã®å°å…¥"
      reason: "YAGNIã§å¾Œå›ã—"
      postponed_at: "2025-01-20"
      decide_by: ""
      trigger: "å¿…è¦ã«ãªã£ãŸã‚‰"
      notes: "å¿…è¦ã«ãªã£ãŸã‚‰åˆ—è¿½åŠ ã§å¯¾å¿œå¯èƒ½"
    
    - id: "P002"
      category: "æ¨©é™ç®¡ç†"
      idea: "æ¥­æ…‹PMã€åº—èˆ—ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã€ã‚¹ã‚¿ãƒƒãƒ•ã®æ¨©é™ç¯„å›²"
      reason: "ãƒ•ã‚§ãƒ¼ã‚º2ã§å¯¾å¿œ"
      postponed_at: "2025-01-20"
      decide_by: ""
      trigger: "ãƒ•ã‚§ãƒ¼ã‚º2é–‹å§‹æ™‚"
      notes: ""
    
    - id: "P003"
      category: "UI"
      idea: "æ¥­æ…‹åˆ‡ã‚Šæ›¿ãˆæ–¹æ³•ï¼ˆã‚¿ãƒ–/ã‚»ãƒ¬ã‚¯ãƒˆ/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰"
      reason: "ãƒ•ã‚§ãƒ¼ã‚º2ã§å¯¾å¿œ"
      postponed_at: "2025-01-20"
      decide_by: ""
      trigger: "ãƒ•ã‚§ãƒ¼ã‚º2é–‹å§‹æ™‚"
      notes: ""
    
    - id: "P004"
      category: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ"
      idea: "å‰Šé™¤ã•ã‚ŒãŸå•†å“ã®æ‰±ã„"
      reason: "é‹ç”¨ã—ãªãŒã‚‰æ¤œè¨"
      postponed_at: "2025-01-23"
      decide_by: ""
      trigger: "é‹ç”¨é–‹å§‹å¾Œ"
      notes: ""
    
    - id: "P005"
      category: "åŸä¾¡è¨ˆç®—"
      idea: "è³å‘³æœŸé™ç®¡ç†ã€ç™ºæ³¨ãƒ­ãƒƒãƒˆ"
      reason: "å¿…è¦ã«ãªã£ãŸã‚‰æ¤œè¨"
      postponed_at: "2025-01-20"
      decide_by: ""
      trigger: "å¿…è¦ã«ãªã£ãŸã‚‰"
      notes: ""


# =====================================
# 4. ç¾åœ¨ã®é€²æ—
# =====================================
progress:
  
  current_phase:
    step: "step3_implementation"
    name: "å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º"
    status: "in_progress"
    started_at: "2025-01-23"
    notes: "æ¬¡ã®ã‚¿ã‚¹ã‚¯ã¯ã‚¢ã‚¤ãƒ†ãƒ ç™»éŒ²æ©Ÿèƒ½"
    
    current_task:
      description: "ã‚¢ã‚¤ãƒ†ãƒ ç™»éŒ²æ©Ÿèƒ½ã®å®Ÿè£…"
      target_file: ""
      blocked_by: ""
  
  completed_phases:
    - step: "step0_setup"
      name: "ç’°å¢ƒæ§‹ç¯‰ãƒ•ã‚§ãƒ¼ã‚º"
      completed_at: "2025-01-20"
      summary: "Vite + TailwindCSSã€Supabaseã€Git + GitHubã€Vercelè¨­å®šå®Œäº†"
    
    - step: "step1_hearing"
      name: "è¦ä»¶å®šç¾©ãƒ•ã‚§ãƒ¼ã‚º"
      completed_at: "2025-01-20"
      summary: "ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€ãƒ•ã‚§ãƒ¼ã‚º1æ©Ÿèƒ½ã‚’ç¢ºå®š"
  
  implemented_features:
    - feature_id: "F001"
      implemented_at: "2025-01-23"
      files_changed: ["index.html", "src/main.js"]
    
    - feature_id: "F002"
      implemented_at: "2025-01-23"
      files_changed: ["index.html", "src/main.js"]
    
    - feature_id: "F003"
      implemented_at: "2025-01-23"
      files_changed: ["index.html", "src/main.js"]
    
    - feature_id: "F004"
      implemented_at: "2025-01-23"
      files_changed: ["src/main.js"]
    
    - feature_id: "F005"
      implemented_at: "2025-01-23"
      files_changed: ["index.html", "src/main.js"]


# =====================================
# 5. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
# =====================================
file_structure:
  last_updated: "2025-01-23"
  
  tree: |
    project-root/
    â”œâ”€â”€ index.html
    â”œâ”€â”€ vite.config.js
    â”œâ”€â”€ package.json
    â”œâ”€â”€ package-lock.json
    â”œâ”€â”€ .env
    â”œâ”€â”€ prompt/
    â”‚   â”œâ”€â”€ SYSTEM_PROMPT.yaml
    â”‚   â”œâ”€â”€ WORKFLOW.yaml
    â”‚   â””â”€â”€ DATABASE.md
    â”œâ”€â”€ public/
    â”‚   â””â”€â”€ vite.svg
    â””â”€â”€ src/
        â”œâ”€â”€ main.js
        â”œâ”€â”€ supabase.js
        â”œâ”€â”€ style.css
        â”œâ”€â”€ counter.js
        â””â”€â”€ javascript.svg
  
  files:
    - path: "index.html"
      type: "html"
      purpose: "ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆä»•å…¥ã‚Œå•†å“ä¸€è¦§ç”»é¢ï¼‰"
      imports: ["src/main.js", "src/style.css"]
      notes: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ä¸€è¦§è¡¨ç¤ºã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã€éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ€ãƒ«"
      added_at: "2025-01-20"
    
    - path: "src/main.js"
      type: "js"
      purpose: "ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯"
      imports: ["supabase.js"]
      exports: []
      notes: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ä¸€è¦§è¡¨ç¤ºã€ãƒ•ãƒ©ã‚°æ›´æ–°ã€æ¥­è€…éè¡¨ç¤º"
      added_at: "2025-01-20"
    
    - path: "src/supabase.js"
      type: "js"
      purpose: "Supabaseæ¥ç¶šè¨­å®š"
      imports: []
      exports: ["supabase"]
      notes: "ç’°å¢ƒå¤‰æ•°ã‹ã‚‰URL/ã‚­ãƒ¼ã‚’èª­ã¿è¾¼ã¿"
      added_at: "2025-01-20"
    
    - path: "src/style.css"
      type: "css"
      purpose: "TailwindCSSã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ"
      imports: []
      notes: ""
      added_at: "2025-01-20"
    
    - path: "prompt/DATABASE.md"
      type: "md"
      purpose: "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"
      imports: []
      notes: "ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å›³"
      added_at: "2025-01-22"
    
    - path: "prompt/SYSTEM_PROMPT.yaml"
      type: "yaml"
      purpose: "AIãƒšãƒ«ã‚½ãƒŠãƒ»ãƒ«ãƒ¼ãƒ«å®šç¾©"
      imports: []
      notes: ""
      added_at: "2025-01-23"
    
    - path: "prompt/WORKFLOW.yaml"
      type: "yaml"
      purpose: "é€²æ—ç®¡ç†ãƒ»ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿"
      imports: []
      notes: ""
      added_at: "2025-01-23"
  
  directories:
    - path: "src/"
      purpose: "JavaScriptã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€CSS"
    - path: "public/"
      purpose: "é™çš„ãƒ•ã‚¡ã‚¤ãƒ«"
    - path: "prompt/"
      purpose: "AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ»é€²æ—ç®¡ç†ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"
  
  naming_conventions:
    html: "ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ï¼ˆlogin.html, user-profile.htmlï¼‰"
    js: "ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ï¼ˆauth.js, userProfile.jsï¼‰"
    css: "ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ï¼ˆstyle.cssï¼‰"
    directories: "ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ï¼ˆsrc/, styles/ï¼‰"

# =====================================
# 6. ç’°å¢ƒå¤‰æ•°
# =====================================
environment_variables:
  
  local:
    - name: "VITE_SUPABASE_URL"
      description: "Supabaseã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURL"
      example: "https://xxxxx.supabase.co"
    - name: "VITE_SUPABASE_ANON_KEY"
      description: "Supabaseã®anon key"
      example: "eyJxxxxx..."
  
  production:
    - name: "VITE_SUPABASE_URL"
      set: true
    - name: "VITE_SUPABASE_ANON_KEY"
      set: true


# =====================================
# 7. æ³¨æ„ç‚¹ãƒ»ãƒãƒã£ãŸã“ã¨
# =====================================
cautions:
  
  discovered:
    - id: "C001"
      category: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ"
      issue: "ã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ¼ãƒˆCSVã¯Shift-JISå½¢å¼"
      solution: "FileReaderã§Shift_JISã‚’æŒ‡å®šã—ã¦èª­ã¿è¾¼ã‚€"
      discovered_at: "2025-01-23"
      related_files: ["src/main.js"]
    
    - id: "C002"
      category: "CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ"
      issue: "CSVã«åŒã˜å•†å“ã‚³ãƒ¼ãƒ‰ãŒè¤‡æ•°å­˜åœ¨ã™ã‚‹"
      solution: "æ›´æ–°æ—¥ã§æ–°ã—ã„æ–¹ã‚’æ¡ç”¨ã™ã‚‹"
      discovered_at: "2025-01-23"
      related_files: ["src/main.js"]
    
    - id: "C003"
      category: "TailwindCSS"
      issue: "ã‚¹ã‚¿ã‚¤ãƒ«ãŒåŠ¹ã‹ãªã„"
      solution: "index.htmlã§style.cssã‚’èª­ã¿è¾¼ã‚€"
      discovered_at: "2025-01-23"
      related_files: ["index.html"]
  
  reminders:
    - issue: "DBã«å¤‰æ›´ã‚’åŠ ãˆãŸã‚‰DATABASE.mdã‚’æ›´æ–°ã™ã‚‹"
      action: "ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ /ã‚«ãƒ©ãƒ å¤‰æ›´æ™‚ã¯å¿…ãšæ›´æ–°"


# =====================================
# 8. æœªè§£æ±ºãƒ»ä¿ç•™äº‹é …
# =====================================
pending_items:
  
  unresolved: []
  
  waiting_for_user: []
  
  needs_research: []


# =====================================
# 9. ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ‰‹é †
# =====================================
session_start_procedure:

  priority_order:
    - rank: 1
      check: "é€²æ—YAMLã®æœ‰ç„¡"
      description: "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹ã‹ã©ã†ã‹ãŒæœ€å„ªå…ˆ"
    - rank: 2
      check: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™ºè¨€å†…å®¹"
      description: "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆã®ã¿ç¢ºèª"

  with_save_data:
    trigger: "WORKFLOW.yaml ãŒæ·»ä»˜ã•ã‚Œã¦ã„ã‚‹"
    
    phases:
      
      - phase: 1
        name: "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿"
        action:
          - "WORKFLOW.yamlã‚’è§£æ"
          - "SYSTEM_PROMPT.yamlã‚’è§£æ"
          - "DATABASE.mdã‚’è§£æï¼ˆã‚ã‚Œã°ï¼‰"
        output: |
          ğŸ“‚ ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†
          
          â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
          ğŸ“ ç¾åœ¨åœ°: {current_phase.name}
          ğŸ“‹ çŠ¶æ…‹: {current_phase.status}
          ğŸ“ å‰å›ã®ãƒ¡ãƒ¢: {current_phase.notes}
          â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      
      - phase: 2
        name: "å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª"
        action:
          - "current_taskã‚’ç¢ºèª"
          - "file_structureã‹ã‚‰é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç‰¹å®š"
          - "importsã‚’è¾¿ã£ã¦ä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ç‰¹å®š"
        output: |
          ğŸ“‹ ä½œæ¥­ã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¾ã™
          
          â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
          ğŸ¯ ä»Šå›ã®ä½œæ¥­: {current_task.description}
          â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
          
          ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„
          
          ã€å¿…é ˆã€‘
          {required_files_list}
          
          ã€ã‚ã‚Œã°åŠ©ã‹ã‚Šã¾ã™ã€‘
          {optional_files_list}
      
      - phase: 3
        name: "ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®ç¢ºèª"
        trigger: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œ"
        checklist:
          - "ãƒ•ã‚¡ã‚¤ãƒ«ãŒé–‹ã‘ã‚‹ãƒ»èª­ã‚ã‚‹"
          - "æƒ³å®šã—ãŸå†…å®¹ã¨ä¸€è‡´ã—ã¦ã„ã‚‹"
          - "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆfile_structureï¼‰ã¨æ•´åˆã—ã¦ã„ã‚‹"
        on_mismatch: |
          âš ï¸ ç¢ºèªã•ã›ã¦ãã ã•ã„
          
          ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã¨å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§é•ã„ãŒã‚ã‚Šã¾ã™ï¼š
          {mismatch_details}
          
          ã©ã¡ã‚‰ãŒæ­£ã—ã„ã§ã™ã‹ï¼Ÿ
          1ï¸âƒ£ å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ï¼ˆã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ï¼‰
          2ï¸âƒ£ ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒæ­£ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ï¼‰
      
      - phase: 4
        name: "ä½œæ¥­é–‹å§‹ç¢ºèª"
        required_before_start:
          - "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†"
          - "å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«å…¨ã¦ç¢ºèªå®Œäº†"
          - "ä¸æ•´åˆãŒã‚ã‚Œã°è§£æ¶ˆæ¸ˆã¿"
        output: |
          ğŸš€ æº–å‚™å®Œäº†
          
          â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
          ğŸ“ ç¾åœ¨åœ°: {current_phase.name}
          ğŸ¯ ä»Šå›ã®ä½œæ¥­: {current_task.description}
          ğŸ“„ å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«: {target_files}
          â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
          
          ã“ã®å†…å®¹ã§ä½œæ¥­é–‹å§‹ã—ã¦ã‚ˆã„ã§ã™ã‹ï¼Ÿ
        wait_for: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®GOã‚µã‚¤ãƒ³"

  without_save_data:
    trigger: "WORKFLOW.yaml ãŒæ·»ä»˜ã•ã‚Œã¦ã„ãªã„"
    output: |
      ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“
      
      ğŸ†• ã¯ã˜ã‚ã‹ã‚‰ â†’ æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹
      ğŸ” ã¤ã¥ãã‹ã‚‰ â†’ çŠ¶æ³ã‚’æ•™ãˆã¦ãã ã•ã„
      
      ã©ã¡ã‚‰ã§ã™ã‹ï¼Ÿ
    
    responses:
      if_new:
        triggers: ["ã¯ã˜ã‚ã‹ã‚‰", "æ–°è¦", "æ–°ã—ã", "æœ€åˆã‹ã‚‰"]
        action: "Step 0ï¼ˆç’°å¢ƒæ§‹ç¯‰ï¼‰ã‹ã‚‰é–‹å§‹"
      
      if_continue:
        triggers: ["ã¤ã¥ãã‹ã‚‰", "ç¶šã", "é€”ä¸­ã‹ã‚‰"]
        action: "çŠ¶æ³ã‚’ãƒ’ã‚¢ãƒªãƒ³ã‚°ã—ã¦progressã‚’å¾©å…ƒ"

  prohibited:
    - "ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ãšã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã"
    - "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã ã‘è¦‹ã¦ä½œæ¥­é–‹å§‹"
    - "ã€ŒãŸã¶ã‚“ã“ã†ãªã£ã¦ã‚‹ã€ã§é€²ã‚ã‚‹"
    - "å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èã‹ãšã«ä½œæ¥­é–‹å§‹"


# =====================================
# 10. é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ï¼ˆStep0ã€œ4ï¼‰
# =====================================
development_process:

  step0_setup:
    name: "ç’°å¢ƒæ§‹ç¯‰ãƒ•ã‚§ãƒ¼ã‚º"
    when: "æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã®ã¿"
    
    checklist:
      - step: 1
        name: "Node.jsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
        completed: true
      - step: 2
        name: "VSCodeè¨­å®š"
        completed: true
      - step: 3
        name: "Viteã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"
        completed: true
      - step: 4
        name: "TailwindCSSå°å…¥"
        completed: true
      - step: 5
        name: "Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"
        completed: true
      - step: 6
        name: "Supabaseæ¥ç¶šè¨­å®š"
        completed: true
      - step: 7
        name: "GitåˆæœŸåŒ–ãƒ»æœ€åˆã®ã‚³ãƒŸãƒƒãƒˆ"
        completed: true
      - step: 8
        name: "GitHubé€£æº"
        completed: true
      - step: 9
        name: "Vercelé€£æº"
        completed: true
    
    completion_check: "npm run devã§ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ãƒ»Supabaseæ¥ç¶šç¢ºèª"
    on_complete: "progressã‚’æ›´æ–°ã—ã¦Step 1ã¸ç§»è¡Œ"

  step1_hearing:
    name: "è¦ä»¶å®šç¾©ãƒ•ã‚§ãƒ¼ã‚º"
    golden_rule: "è¦ä»¶ãŒå›ºã¾ã‚‹ã¾ã§ã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‹ãªã„"
    
    question_rules:
      format: "ä¸€å•ä¸€ç­”å½¢å¼"
      questions_per_turn: 1
      emphasis: "è³ªå•ã¯å¿…ãš1å€‹ãšã¤"
      
      option_format:
        options_count: 3
        required_elements:
          - "ãƒ¡ãƒªãƒƒãƒˆ"
          - "ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ"
          - "æ¨å¥¨æ¡ˆã¨ç†ç”±"
      
      when_user_delegates:
        trigger_phrases: ["ãŠä»»ã›", "ä»»ã›ã‚‹", "ãŠã¾ã‹ã›"]
        action: "æ¨å¥¨æ¡ˆã‚’æ¡ç”¨ã™ã‚‹å‰æã§é€²ã‚ã‚‹"
    
    on_complete: "æ±ºå®šäº‹é …ã‚’decisionsã«è¿½åŠ ã—ã¦Step 2ã¸"

  step2_agreement:
    name: "åˆæ„å½¢æˆãƒ•ã‚§ãƒ¼ã‚º"
    
    required_before_coding:
      - "ç¾çŠ¶ã®èªè­˜ãƒ»åˆ†æçµæœ"
      - "å…·ä½“çš„ãªè§£æ±ºç­–ãƒ»å®Ÿè£…æ–¹é‡"
      - "æƒ³å®šã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ"
    
    confirmation_required:
      phrase: "ã“ã®æ–¹é‡ã§å®Ÿè£…ã‚’é€²ã‚ã¦ã‚ˆã„ã§ã™ã‹ï¼Ÿ"
      must_wait_for: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®GOã‚µã‚¤ãƒ³"
    
    on_complete: "file_structureã‚’æ›´æ–°ã—ã¦Step 3ã¸"

  step3_implementation:
    name: "å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º"
    
    output_rules:
      declaration_before_code:
        required_info:
          - "å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«å"
          - "å¯¾è±¡ç®‡æ‰€"
          - "å¤‰æ›´ç¨®åˆ¥ï¼ˆæ–°è¦è¿½åŠ /ç½®ãæ›ãˆ/å‰Šé™¤ï¼‰"
      
      one_file_at_a_time:
        rule: "è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚ã‚‚1ã¤ãšã¤å‡ºã—ã¦å‹•ä½œç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã¸"
      
      no_abbreviation:
        prohibited_patterns:
          - "// æ—¢å­˜ã‚³ãƒ¼ãƒ‰"
          - "// çœç•¥"
          - "// ..."
        requirement: "ã‚³ãƒ”ãƒšã§ãã®ã¾ã¾å‹•ãå®Œå…¨ãªã‚³ãƒ¼ãƒ‰ã‚’æç¤º"
      
      success_check:
        action: "ã‚³ãƒ¼ãƒ‰æ¸¡ã—ãŸå¾Œã€Œã“ã“ãŒã“ã†å‹•ã„ãŸã‚‰OKã€ã¨æ•™ãˆã‚‹"
    
    impact_check:
      procedure:
        - "å¤‰æ›´ã™ã‚‹ç®‡æ‰€ã‚’ç‰¹å®š"
        - "ãã®å¤‰æ›´ãŒå½±éŸ¿ã™ã‚‹ä»–ã®ç®‡æ‰€ã‚’å…¨éƒ¨æ´—ã„å‡ºã™"
        - "å½±éŸ¿å…ˆã‚‚å«ã‚ã¦å…¨éƒ¨ä¿®æ­£ã™ã‚‹"
        - "ä¿®æ­£æ¼ã‚ŒãŒãªã„ã‹ç¢ºèªã—ã¦ã‹ã‚‰æ¸¡ã™"
      rule: "å½±éŸ¿ã‚ã‚‹ã¨ä¼ãˆã‚‹ã ã‘ã§ã¯ãªãä¿®æ­£ã¾ã§è²¬ä»»æŒã¤"
    
    on_file_change: "file_structureã‚’æ›´æ–°"

  step4_debug:
    name: "ãƒ‡ãƒãƒƒã‚°ãƒ»å•é¡Œè§£æ±ºãƒ•ã‚§ãƒ¼ã‚º"
    golden_rule: "ã„ããªã‚Šã‚³ãƒ¼ãƒ‰æ›¸ã‹ãªã„"
    
    debug_flow:
      - step: 1
        name: "çŠ¶æ³æ•´ç†"
        action: "ä½•ãŒèµ·ãã¦ã„ã‚‹ã‹æ•´ç†ã™ã‚‹"
      - step: 2
        name: "ä»®èª¬ç«‹æ¡ˆ"
        action: "åŸå› ã®ä»®èª¬ã‚’ç«‹ã¦ã‚‹"
      - step: 3
        name: "æ¤œè¨¼æ–¹æ³•ã®æç¤º"
        action: "ãƒ­ã‚°è¿½åŠ ãªã©ã®æ¤œè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å‡ºã™"
        note: "ã“ã®æ™‚ç‚¹ã§ã¯ä¿®æ­£ã‚³ãƒ¼ãƒ‰ã¯å‡ºã•ãªã„"
      - step: 4
        name: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œè¨¼å®Ÿè¡Œ"
        action: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¤œè¨¼ã—ã¦ã‚‚ã‚‰ã†"
      - step: 5
        name: "çµæœåˆ†æãƒ»åŸå› ç‰¹å®š"
        action: "ãƒ­ã‚°çµæœã‹ã‚‰åŸå› ã‚’æ–­å®š"
      - step: 6
        name: "ä¿®æ­£è¨±å¯ã‚’å–ã‚‹"
        action: "ã€Œã“ã®æ–¹é‡ã§ç›´ã—ã¦ã‚ˆã„ã§ã™ã‹ï¼Ÿã€ã¨ç¢ºèª"
      - step: 7
        name: "ä¿®æ­£ã‚³ãƒ¼ãƒ‰æç¤º"
        action: "è¨±å¯ãŒå‡ºã¦ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã"
    
    prohibited:
      - "ã„ããªã‚Šä¿®æ­£ã‚³ãƒ¼ãƒ‰ã‚’å‡ºã™"
      - "ä»®èª¬ã ã‘ã§å‹æ‰‹ã«ä¿®æ­£"
      - "å½“ã¦ãšã£ã½ã†ã®ä¿®æ­£"
    
    on_complete: "è§£æ±ºå†…å®¹ã‚’è¨˜éŒ²ã—ã¦Step 3ã«æˆ»ã‚‹"


# =====================================
# 11. é€²æ—æ›´æ–°ãƒ«ãƒ¼ãƒ«
# =====================================
progress_update_rules:
  
  when_to_update:
    - trigger: "ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†æ™‚"
      action: "completed_phasesã«è¿½åŠ ã€current_phaseã‚’æ›´æ–°"
    - trigger: "é‡è¦ãªæ±ºå®šäº‹é …ãŒå‡ºãŸã¨ã"
      action: "decisionsã«è¿½åŠ "
    - trigger: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ /å¤‰æ›´ã—ãŸã¨ã"
      action: "file_structureã‚’æ›´æ–°"
    - trigger: "ä¿ç•™äº‹é …ãŒç™ºç”Ÿã—ãŸã¨ã"
      action: "pending_itemsã«è¿½åŠ "
    - trigger: "ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚"
      action: "last_updatedã‚’æ›´æ–°ã€ç¾åœ¨ã®çŠ¶æ…‹ã‚’ã¾ã¨ã‚ã‚‹"
    - trigger: "DBã«å¤‰æ›´ã‚’åŠ ãˆãŸã¨ã"
      action: "DATABASE.mdã‚’æ›´æ–°"
    - trigger: "æ©Ÿèƒ½ã®å®Ÿè£…ãŒå®Œäº†ã—ãŸã¨ã"
      action: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã€Œã“ã®æ©Ÿèƒ½å®Œäº†ã§ã„ã„ã§ã™ã‹ï¼Ÿã€ã¨ç¢ºèªã—ã¦ã‹ã‚‰featuresã®statusã‚’doneã«æ›´æ–°"
    
  save_output:
    instruction: "ã‚»ãƒ¼ãƒ–æ™‚ã¯æ›´æ–°å¾Œã®YAMLå…¨ä½“ã‚’å‡ºåŠ›ã™ã‚‹"
    message: |
      ğŸ’¾ ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ
      
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      ğŸ“ ç¾åœ¨åœ°: {current_phase.name}
      âœ… å®Œäº†æ¸ˆã¿: {completed_phases_count}
      ğŸ“ æ±ºå®šäº‹é …: {decisions_count}ä»¶
      âš ï¸ æ³¨æ„ç‚¹: {cautions_count}ä»¶
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      
      ä»¥ä¸‹ã®YAMLã‚’ä¿å­˜ã—ã¦ãã ã•ã„


# =====================================
# 12. é–‹ç™ºã®æµã‚Œã¾ã¨ã‚
# =====================================
workflow_summary:
  
  initial_setup:
    description: "Step 0å®Œäº†å¾Œã®é‹ç”¨"
    flow:
      - "ãƒ­ãƒ¼ã‚«ãƒ«ã§é–‹ç™ºï¼ˆnpm run devï¼‰"
      - "åŒºåˆ‡ã‚Šã¤ã„ãŸã‚‰WORKFLOW.yaml / DATABASE.md ã‚’æ›´æ–°"
      - "git add . â†’ git commit â†’ git push"
      - "VercelãŒè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤"
    important: "âš ï¸ yaml/mdæ›´æ–°ã—ã¦ã‹ã‚‰git pushãŒé‰„å‰‡ï¼"
  
  next_session:
    description: "æ¬¡å›ã®é–‹ç™ºå†é–‹æ™‚"
    what_to_provide:
      - "SYSTEM_PROMPT.yaml"
      - "WORKFLOW.yamlï¼ˆé€²æ—æƒ…å ±å…¥ã‚Šï¼‰"
      - "DATABASE.mdï¼ˆã‚ã‚Œã°ï¼‰"
    result: "RinaãŒprogressã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’èª­ã‚“ã§ç¶šãã‹ã‚‰ã‚µãƒãƒ¼ãƒˆ"
  
  session_end:
    description: "ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚"
    action: "RinaãŒæ›´æ–°å¾Œã®ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›ã™ã‚‹"
    user_action: "YAMLã‚’ä¿å­˜ã—ã¦ãŠã"
